if(!customElements.get("google-map")){class a extends HTMLElement{constructor(){super(),this.container=this.querySelector(".google-map--map"),this.mapZoom=parseInt(this.container.dataset.mapZoom,10),this.mapStyle=this.container.dataset.mapStyle,this.mapType=this.container.dataset.mapType,this.panControl=this.container.dataset.panControl,this.zoomControl=this.container.dataset.zoomControl,this.mapTypeControl=this.container.dataset.maptypeControl||!1,this.scaleControl=this.container.dataset.scaleControl||!1,this.streetViewControl=this.container.dataset.streetviewControl||!1,this.locations=this.querySelectorAll(".thb-location"),this.map=!1}connectedCallback(){if(window.google){this.bounds=new google.maps.LatLngBounds,this.renderMap();let e=this.map,t=this.bounds,l=this.mapResize,r=this.mapZoom;window.addEventListener("resize",function(){l(e,t)}),google.maps.event.addListenerOnce(e,"tilesloaded",function(){0<r?(e.setCenter(t.getCenter()),e.setZoom(r)):(e.setCenter(t.getCenter()),e.fitBounds(t))}),window.dispatchEvent(new Event("resize"))}}getMapOptions(){var e={zoom:this.mapZoom,draggable:!("ontouchend"in document),scrollwheel:!1,panControl:this.panControl,zoomControl:this.zoomControl,mapTypeControl:this.mapTypeControl,scaleControl:this.scaleControl,streetViewControl:this.streetViewControl,fullscreenControl:!1,mapTypeId:this.mapType,gestureHandling:"cooperative"};return"retro"===this.mapStyle?e.styles=[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}]:"night"===this.mapStyle&&(e.styles=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]),e}renderMap(){var e=this.getMapOptions(),t=this.container;this.map=new google.maps.Map(t,e),this.locations.forEach((e,t)=>{this.renderMarker(t,e,this.map,e.dataset.rendered),e.dataset.rendered=!0})}mapResize(e,t){setTimeout(function(){e.setCenter(t.getCenter()),e.fitBounds(t)},50)}renderMarker(e,t,l,r){let s=JSON.parse(t.dataset.option),o=s.latitude,a=s.longitude,i=new google.maps.LatLng(o,a),n=s.marker_image,y=s.marker_size,p=s.retina_marker,m=s.marker_title,d=s.marker_description,c=new Image,f=this;this.bounds.extend(i),c.src=n,c.addEventListener("load",function(){f.setMarkers(e,i,n,y,m,d,p,r)})}setMarkers(e,l,r,s,t,o,a,i){let n=this.map,y="<h4>"+t+"</h4><div>"+o+"</div>",p=new google.maps.InfoWindow({content:y});function m(e,t){this.latlng=e,this.setMap(t)}a&&!i&&(s[0]=s[0]/2,s[1]=s[1]/2),(m.prototype=new google.maps.OverlayView).draw=function(){var e,t=this.div_,t=(t||(t=this.div_=document.createElement("div"),this.div_.classList.add("thb-pin"),this.div_.innerHTML=`<div class="pulse"></div>
						<div class="shadow"></div>
						<div class="pin-wrap"><img src="${r}" width="${s[0]}'" height="${s[1]}" /></div>`,this.pinShadow=this.div_.querySelector(".shadow"),this.pulse=this.div_.querySelector(".pulse"),this.div_.style.position="absolute",this.div_.style.cursor="pointer",this.getPanes().overlayImage.appendChild(this.div_),t.addEventListener("click",function(e){p.setPosition(l),p.open(n)})),this.getProjection().fromLatLngToDivPixel(l));t&&(e=(s[0]-40)/2,this.div_.style.left=t.x-s[0]/2+"px",this.div_.style.top=t.y-s[1]/2+"px",this.div_.style.width=s[0]+"px",this.div_.style.height=s[1]+"px",this.pinShadow.style.marginLeft=e+"px",this.pulse.style.marginLeft=e+"px")},m.prototype.getPosition=function(){return this.latlng};new m(l,n)}}customElements.define("google-map",a)}