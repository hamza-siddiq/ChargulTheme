if(!customElements.get("pagination")){class a extends HTMLElement{constructor(){super();var t=this.dataset.section;this.button=this.querySelector(".load-more"),this.grid=document.querySelector("[data-id="+t+"]"),this.animations_enabled=document.body.classList.contains("animations-true")&&"undefined"!=typeof gsap,this.i=2}connectedCallback(){this.classList.contains("pagination-type--loadmore")&&this.loadMore(),this.classList.contains("pagination-type--infinite")&&this.infinite()}addUrlParam(t,e){var i=e+"="+this.i,n="?"+i;return t&&(n=t.replace(new RegExp("([?&])"+e+"[^&]*"),"$1"+i))===t&&(n+="&"+i),n}loadMore(){let t=this;this.button.addEventListener("click",function(){return t.loadProducts(),this.blur(),!1})}infinite(){let e=this;e.observer=new IntersectionObserver(function(t){1===t[0].intersectionRatio&&e.loadProducts()},{threshold:[0,1]}),e.observer.observe(e)}loadProducts(){let e=this,i=document.location.pathname+e.addUrlParam(document.location.search,"page");e.getAttribute("loading")||(e.i++,e.setAttribute("loading",!0),fetch(i).then(t=>t.text()).then(t=>{e.renderProducts(t,i),dispatchCustomEvent("pagination:page-changed",{url:i})}))}renderProducts(t,e){let i=this,n=(new DOMParser).parseFromString(t,"text/html").getElementById("product-grid");if(n){for(var o=n.querySelectorAll(".column"),a=0;a<o.length;a++)this.grid.appendChild(o[a]);this.animations_enabled?(gsap.set(o,{opacity:0,y:30}),gsap.to(o,{duration:.5,y:0,opacity:1,stagger:.05,onComplete:function(){i.removeAttribute("loading")}})):i.removeAttribute("loading")}else i.observer&&i.observer.unobserve(i),i.removeAttribute("loading"),i.button&&i.button.classList.add("visually-hidden")}}customElements.define("pagination-theme",a)}