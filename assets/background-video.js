if(!customElements.get("background-video")){class a extends HTMLElement{constructor(){super()}connectedCallback(){let e=this,t=this.querySelector(".background-video__iframe");t&&t.querySelector("iframe")&&(t.querySelector("iframe").onload=function(){e.videoPlay(t)}),this.prepareAnimations()}videoPlay(e){setTimeout(()=>{"youtube"===e.dataset.provider?e.querySelector("iframe").contentWindow.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*"):"vimeo"===e.dataset.provider&&e.querySelector("iframe").contentWindow.postMessage(JSON.stringify({method:"play"}),"*")},10)}prepareAnimations(){let r=this;new IntersectionObserver((e,n)=>{e.forEach(e=>{var t,a,o;e.isIntersecting&&(a=(t=r.querySelector(".animated-heading")).textContent.trim().split(" "),t.innerHTML=a.map(e=>`<span class="word">${e}</span>`).join(" "),o=(a=r.querySelector(".animated-text")).textContent.trim().split(" "),a.innerHTML=o.map(e=>`<span class="word">${e}</span>`).join(" "),t.classList.add("animate"),a.classList.add("animate"),(o=r.querySelectorAll(".word")).forEach((e,t)=>{e.style.animationDelay=.1*t+"s"}),setTimeout(()=>{r.querySelector(".video-lightbox-modal__button").classList.add("animate")},100*o.length),n.unobserve(e.target))})},{threshold:.2}).observe(r)}}customElements.define("background-video",a)}